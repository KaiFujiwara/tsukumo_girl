# アプリ要件

## プロジェクト目的

商品バーコードから決定論的にAI美少女キャラクターを生成し、ユーザーがキャラクターとコミュニケーションを取れるゲームアプリを開発する。

## 核となるコンセプト

### キャラクター所有システム
- **1バーコード = 1キャラクター**: 決定論的生成
- **排他的所有**: 1キャラクターにつき1人のユーザーのみが「カノジョ」として保持可能
- **好感度システム**: 他ユーザーが保有者の好感度を超えれば所有権移転

## 機能要件

### 1. バーコードスキャン機能
- **目的**: 商品バーコードの読み取り
- **対象**: JAN/EAN/UPCコード（商品バーコード）
- **除外**: QRコード、2次元コード
- **要件**:
  - カメラを使用したリアルタイムバーコード読み取り
  - 読み取り精度の最適化
  - 読み取り完了時の視覚的フィードバック

### 2. キャラクター生成・管理システム
- **新規生成**: 初回スキャン時にキャラクター生成
- **既存参照**: 既にスキャンされたキャラクターの情報取得
- **決定論的生成**: 同じバーコード = 同じキャラクター
- **要件**:
  - バーコード文字列からシード値生成
  - AI画像生成（外観）
  - キャラクター基本情報生成（名前、性格等）
  - 生成ステータスの管理

### 3. キャラクター所有・好感度システム
- **所有権管理**: 
  - 新規キャラクター: スキャンユーザーが自動取得
  - 既存キャラクター: 現在の所有者情報表示
- **好感度システム**:
  - ユーザーとキャラクターの関係値
  - コミュニケーションによる好感度上昇
  - 所有権移転の条件判定
- **所有権移転**:
  - 他ユーザーの好感度が現所有者を超過した場合
  - 移転時の通知システム

### 4. コミュニケーション機能
- **チャット機能**: キャラクターとの会話
- **AI応答生成**: キャラクター性格に基づく応答
- **好感度影響**: 会話内容による好感度変動
- **要件**:
  - リアルタイム会話システム
  - キャラクター固有の性格・口調
  - 会話履歴の保存

### 5. ユーザー管理機能
- **ユーザー登録・認証**: 匿名/簡易認証
- **プロフィール管理**: ユーザー基本情報
- **所有キャラクター一覧**: マイページ機能
- **好感度ランキング**: キャラクター別ランキング

## 非機能要件

### パフォーマンス
- **バーコード読み取り**: 2秒以内
- **画像生成**: 5秒以内
- **アプリ起動**: 3秒以内

### ユーザビリティ
- 直感的な操作性
- 明確な操作ガイダンス
- エラー時の分かりやすいメッセージ

### セキュリティ
- 個人情報の非収集
- 安全な通信（HTTPS）
- プライバシー保護

### 互換性
- iOS 13.0以降
- Android 8.0以降
- 各種バーコード形式対応

## 制約事項

### 技術的制約
- オフライン動作は現在非対応
- 画像生成にはインターネット接続が必要
- カメラ権限が必要

### ビジネス制約
- 個人開発プロジェクト
- 商用利用は要検討
- AI生成画像の著作権・肖像権要配慮

## 成功指標

### 定量的指標
- バーコード読み取り成功率: 95%以上
- 画像生成成功率: 98%以上
- アプリクラッシュ率: 1%以下

### 定性的指標
- ユーザーの満足度
- 操作の直感性
- エンターテインメント性